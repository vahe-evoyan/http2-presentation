<h1>SPDY</h1>

<div style="float:left; width: 50%">
  <h3>Binary protocol</h3>
  <h3>TLS only</h3>
  <h3>NPN</h3>
</div>

<div style="float:left; width: 50%">
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="243px" height="243px" version="1.1"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-dae8fc-1-7ea6e0-1-s-0"><stop offset="0%" style="stop-color:#DAE8FC"/><stop offset="100%" style="stop-color:#7EA6E0"/></linearGradient><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-ffffff-0.9-ffffff-0.1-s-0"><stop offset="0%" style="stop-color:#ffffff;stop-opacity:0.9"/><stop offset="100%" style="stop-color:#ffffff;stop-opacity:0.1"/></linearGradient><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-d5e8d4-1-97d077-1-s-0"><stop offset="0%" style="stop-color:#D5E8D4"/><stop offset="100%" style="stop-color:#97D077"/></linearGradient><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-ffcd28-1-ffa500-1-s-0"><stop offset="0%" style="stop-color:#FFCD28"/><stop offset="100%" style="stop-color:#FFA500"/></linearGradient><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-fff2cc-1-ffd966-1-s-0"><stop offset="0%" style="stop-color:#FFF2CC"/><stop offset="100%" style="stop-color:#FFD966"/></linearGradient></defs><g transform="translate(0.5,0.5)"><rect x="1" y="1" width="240" height="60" fill="url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)" stroke="#6c8ebf" pointer-events="none"/><path d="M 0 0 L 0 25 Q 121 43 242 25 L 242 0 Z" fill="url(#mx-gradient-ffffff-0.9-ffffff-0.1-s-0)" stroke="none" pointer-events="none"/><g transform="translate(29,22)"><switch><foreignObject pointer-events="all" width="183" height="21" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 183px; white-space: normal; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Application (HTTP 1.1)</div></div></foreignObject><text x="92" y="19" fill="#000000" text-anchor="middle" font-size="16px" font-family="Helvetica" font-weight="bold">[Not supported by viewer]</text></switch></g><rect x="1" y="61" width="240" height="60" fill="url(#mx-gradient-d5e8d4-1-97d077-1-s-0)" stroke="#82b366" pointer-events="none"/><path d="M 0 60 L 0 85 Q 121 103 242 85 L 242 60 Z" fill="url(#mx-gradient-ffffff-0.9-ffffff-0.1-s-0)" stroke="none" pointer-events="none"/><g transform="translate(33,82)"><switch><foreignObject pointer-events="all" width="175" height="21" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 175px; white-space: normal; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Session (SPDY | TLS)</div></div></foreignObject><text x="88" y="19" fill="#000000" text-anchor="middle" font-size="16px" font-family="Helvetica" font-weight="bold">[Not supported by viewer]</text></switch></g><rect x="1" y="121" width="240" height="60" fill="url(#mx-gradient-ffcd28-1-ffa500-1-s-0)" stroke="#d79b00" pointer-events="none"/><path d="M 0 120 L 0 145 Q 121 163 242 145 L 242 120 Z" fill="url(#mx-gradient-ffffff-0.9-ffffff-0.1-s-0)" stroke="none" pointer-events="none"/><g transform="translate(54,142)"><switch><foreignObject pointer-events="all" width="133" height="21" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 133px; white-space: normal; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Transport (TCP)</div></div></foreignObject><text x="67" y="19" fill="#000000" text-anchor="middle" font-size="16px" font-family="Helvetica" font-weight="bold">[Not supported by viewer]</text></switch></g><rect x="1" y="181" width="240" height="60" fill="url(#mx-gradient-fff2cc-1-ffd966-1-s-0)" stroke="#d6b656" pointer-events="none"/><path d="M 0 180 L 0 205 Q 121 223 242 205 L 242 180 Z" fill="url(#mx-gradient-ffffff-0.9-ffffff-0.1-s-0)" stroke="none" pointer-events="none"/><g transform="translate(68,202)"><switch><foreignObject pointer-events="all" width="105" height="21" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 105px; white-space: normal; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Network (IP)</div></div></foreignObject><text x="53" y="19" fill="#000000" text-anchor="middle" font-size="16px" font-family="Helvetica" font-weight="bold">[Not supported by viewer]</text></switch></g></g></svg>
</div>

<aside class="notes">

It was implemented as a binary wrapper for the HTTP 1.0. Having a binary
protocol makes the packet sniffing a bit more complicated, but tools like
Wireshark already support not only SPDY, but HTTP/2.0 as well. We will go
deeper into how it is implemented a bit later, but this is the main change in
the protocol, which allows such a huge improvement.

<h4>TLS only</h4>

SPDY was implemented for SSL/TLS only and not only for security reasons. To
understand why, let's go through SSL basics.

</aside>

<!-- page -->

# TLS Introduction

#### Three-way handshake + Next Protocol Negotiation

![Handshake](slides/images/tls.png)

Note:

And yet another three way handshake. We already talked about the TCP handshake
and we see it in the diagram. The next thing that comes in the HTTPS protocol
is the TLS tunnel, which is set-up through another three-way handshake where
client and the server negotiate on the encryption algorithm they are going to
use and exchange the session keys.

What SPDY does is - it uses the TLS negotiation phase to decide the protocol
version as well (SPDY vs HTTP 1.1). This is called Next Protocol Negotiation
and it basically allows falling back to older versions of protocol.
